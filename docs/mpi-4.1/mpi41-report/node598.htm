<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-changes/changes -->
<!-- with the command
tohtml -default -numbers -dosnl -htables -quietlatex -allgif -endpage mpi4-forum-tail.htm -Wnoredef --mpidoc --latexpgm pdflatex --indexfile mpi41-report-html.idx -basedef mpi4defs.txt -o mpi41-report.tex mpi-report.tex 
-->
<title>Changes from Version 2.1 to Version 2.2</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h1><span id="Node598">22.5. Changes from Version 2.1 to Version 2.2</span></h1>
<a href="node597.htm#Node597"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node585.htm#Node585"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node599.htm#Node599"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node585.htm#Node585"> Change-Log</a>
<b>Next: </b><a href="node599.htm#Node599"> Changes from Version 2.0 to Version 2.1</a>
<b>Previous: </b><a href="node597.htm#Node597"> Changes in <font face="sans-serif"> MPI-3.0</font></a>
<p>
  
<ol> 
 
1. Section <a href="node36.htm#Node36">Named Constants</a> on page <a href="node36.htm#Node36">Named Constants</a>.   
<br>  
It is now guaranteed that predefined named constant handles (as other constants) can be used in initialization expressions or assignments, i.e., also before the call to <font face="sans-serif"> MPI_INIT</font>.  
 <P> 
 
<br> 
2. Section <a href="node41.htm#Node41">Language Binding</a> on page <a href="node41.htm#Node41">Language Binding</a>,and Section <a href="node456.htm#Node456">C++ Bindings</a> on page <a href="node456.htm#Node456">C++ Bindings</a>.<br>  
The C++ language bindings have been deprecated and may be removed in a future version of the <font face="sans-serif"> MPI</font> specification.  
<P> 
 
<br> 
3. Section <a href="node57.htm#Node57">Message Data</a> on page <a href="node57.htm#Node57">Message Data</a>.<br>  
<font face="sans-serif"> MPI_CHAR</font> for printable characters is now defined for C type char (instead of signed char). This change should not have any impact on applications nor on <font face="sans-serif"> MPI</font> libraries (except some comment lines), because printable characters could and can be stored in any of the C types char, signed char, and unsigned char, and <font face="sans-serif"> MPI_CHAR</font> is not allowed for predefined reduction operations.  
<P> 
 
<br> 
4. Section <a href="node57.htm#Node57">Message Data</a> on page <a href="node57.htm#Node57">Message Data</a>.<br>  
<font face="sans-serif">  MPI_(U)INT{8,16,32,64}_T</font>,   
<font face="sans-serif"> MPI_AINT</font>, <font face="sans-serif"> MPI_OFFSET</font>, <font face="sans-serif"> MPI_C_BOOL</font>, <font face="sans-serif"> MPI_C_COMPLEX</font>, <font face="sans-serif"> MPI_C_FLOAT_COMPLEX</font>, <font face="sans-serif"> MPI_C_DOUBLE_COMPLEX</font>, and <font face="sans-serif"> MPI_C_LONG_DOUBLE_COMPLEX</font> are now valid predefined <font face="sans-serif"> MPI</font> datatypes.   
<P> 
 
<br> 
5. Section <a href="node67.htm#Node67">Communication Modes</a> on page <a href="node67.htm#Node67">Communication Modes</a>,Section <a href="node73.htm#Node73">Communication Initiation</a> on page <a href="node73.htm#Node73">Communication Initiation</a>,Section <a href="node83.htm#Node83">Persistent Communication Requests</a> on page <a href="node83.htm#Node83">Persistent Communication Requests</a>, andSection <a href="node114.htm#Node114">Introduction and Overview</a> on page <a href="node114.htm#Node114">Introduction and Overview</a>.<br>  
The read access restriction on the send buffer for blocking, non blocking and collective API has been lifted. It is permitted to access for read the send buffer while the operation is in progress.   
<P> 
 
<br> 
6. Section <a href="node71.htm#Node71">Nonblocking Communication</a> on page <a href="node71.htm#Node71">Nonblocking Communication</a>.<br>  
The Advice to users for IBSEND and IRSEND was slightly changed.  
<P> 
 
<br> 
7. Section <a href="node74.htm#Node74">Communication Completion</a> on page <a href="node74.htm#Node74">Communication Completion</a>.<br>  
The advice to free an active request was removed in the Advice to users for <font face="sans-serif"> MPI_REQUEST_FREE</font>.  
<P> 
 
<br> 
8. Section <a href="node77.htm#Node77">Non-Destructive Test of <font face="sans-serif"> status</font></a> on page <a href="node77.htm#Node77">Non-Destructive Test of <font face="sans-serif"> status</font></a>.<br>  
<font face="sans-serif"> MPI_REQUEST_GET_STATUS</font> changed to permit inactive or null requests as input.  
<P> 
 
<br> 
9. Section <a href="node128.htm#Node128">All-to-All Scatter/Gather</a> on page <a href="node128.htm#Node128">All-to-All Scatter/Gather</a>.<br>  
``In place'' option is added to <font face="sans-serif"> MPI_ALLTOALL</font>, <font face="sans-serif"> MPI_ALLTOALLV</font>, and <font face="sans-serif"> MPI_ALLTOALLW</font> for intra-communicators.  
<P> 
 
<br> 
10. Section <a href="node131.htm#Node131">Predefined Reduction Operations</a> on page <a href="node131.htm#Node131">Predefined Reduction Operations</a>.<br>  
Predefined parameterized datatypes (e.g., returned by<br><font face="sans-serif"> MPI_TYPE_CREATE_F90_REAL</font>) and optional named predefined datatypes (e.g. <font face="sans-serif"> MPI_REAL8</font>) have been added to the list of valid datatypes in reduction operations.  
<P> 
 
<br> 
11. Section <a href="node131.htm#Node131">Predefined Reduction Operations</a> on page <a href="node131.htm#Node131">Predefined Reduction Operations</a>.<br>  
<font face="sans-serif">  MPI_(U)INT{8,16,32,64}_T</font> are all considered C integer types for the purposes of the predefined reduction operators. <font face="sans-serif"> MPI_AINT</font> and <font face="sans-serif"> MPI_OFFSET</font> are considered Fortran integer types. <font face="sans-serif"> MPI_C_BOOL</font> is considered a Logical type. <font face="sans-serif"> MPI_C_COMPLEX</font>, <font face="sans-serif"> MPI_C_FLOAT_COMPLEX</font>, <font face="sans-serif"> MPI_C_DOUBLE_COMPLEX</font>, and <font face="sans-serif"> MPI_C_LONG_DOUBLE_COMPLEX</font> are considered Complex types.  
<P> 
 
<br> 
12. Section <a href="node137.htm#Node137"><font face="sans-serif"> MPI</font> Process-Local Reduction</a> on page <a href="node137.htm#Node137"><font face="sans-serif"> MPI</font> Process-Local Reduction</a>.<br>  
The local routines <font face="sans-serif"> MPI_REDUCE_LOCAL</font> and <font face="sans-serif"> MPI_OP_COMMUTATIVE</font> have been added.   
<P> 
 
<br> 
13. Section <a href="node139.htm#Node139"><font face="sans-serif"> MPI_REDUCE_SCATTER_BLOCK</font></a> on page <a href="node139.htm#Node139"><font face="sans-serif"> MPI_REDUCE_SCATTER_BLOCK</font></a>.<br>  
The collective function <font face="sans-serif"> MPI_REDUCE_SCATTER_BLOCK</font> is added to the <font face="sans-serif"> MPI</font> standard.  
<P> 
 
<br> 
14. Section <a href="node143.htm#Node143">Exclusive Scan</a> on page <a href="node143.htm#Node143">Exclusive Scan</a>.<br>  
Added in place argument to <font face="sans-serif"> MPI_EXSCAN</font>.  
<P> 
 
<br> 
15. Section <a href="node188.htm#Node188">Communicator Constructors</a> on page <a href="node188.htm#Node188">Communicator Constructors</a>, andSection <a href="node198.htm#Node198">Inter-Communication</a> on page <a href="node198.htm#Node198">Inter-Communication</a>.<br>  
Implementations that did not implement <font face="sans-serif"> MPI_COMM_CREATE</font> on intercommunicators will need to add that functionality. As the standard described the behavior of this operation on inter-communicators, it is believed that most implementations already provide this functionality. Note also that the C++ binding for both <font face="sans-serif"> MPI_COMM_CREATE</font> and <font face="sans-serif"> MPI_COMM_SPLIT</font> explicitly allow Intercomms.  
<P> 
 
<br> 
16. Section <a href="node188.htm#Node188">Communicator Constructors</a> on page <a href="node188.htm#Node188">Communicator Constructors</a>.<br>  
<font face="sans-serif"> MPI_COMM_CREATE</font> is extended to allow several disjoint subgroups as input if comm is an intra-communicator. If comm is an inter-communicator it was clarified that all processes in the same local group of comm must specify the same value for group.  
<P> 
 
<br> 
17. Section <a href="node227.htm#Node227">Distributed Graph Constructor</a> on page <a href="node227.htm#Node227">Distributed Graph Constructor</a>.<br>  
New functions for a scalable distributed graph topology interface has been added. In this section, the functions <font face="sans-serif"> MPI_DIST_GRAPH_CREATE_ADJACENT</font> and <font face="sans-serif"> MPI_DIST_GRAPH_CREATE</font>, the constants <font face="sans-serif"> MPI_UNWEIGHTED</font>, and the derived C++ class Distgraphcomm were added.  
<P> 
 
<br> 
18. Section <a href="node228.htm#Node228">Topology Inquiry Functions</a> on page <a href="node228.htm#Node228">Topology Inquiry Functions</a>.<br>  
For the scalable distributed graph topology interface, the   
functions <font face="sans-serif"> MPI_DIST_GRAPH_NEIGHBORS_COUNT</font>   
and <font face="sans-serif"> MPI_DIST_GRAPH_NEIGHBORS</font>   
and the constant <font face="sans-serif"> MPI_DIST_GRAPH</font> were added.  
<P> 
 
<br> 
19. Section <a href="node228.htm#Node228">Topology Inquiry Functions</a> on page <a href="node228.htm#Node228">Topology Inquiry Functions</a>.<br>  
Remove ambiguity regarding duplicated neighbors with <font face="sans-serif"> MPI_GRAPH_NEIGHBORS</font> and <font face="sans-serif"> MPI_GRAPH_NEIGHBORS_COUNT</font>.   
<P> 
 
<br> 
20. Section <a href="node244.htm#Node244">Version Inquiries</a> on page <a href="node244.htm#Node244">Version Inquiries</a>.<br>  
The subversion number changed from 1 to 2.  
<P> 
 
<br> 
21. Section <a href="node252.htm#Node252">Error Handling</a> on page <a href="node252.htm#Node252">Error Handling</a>,Section <a href="node445.htm#Node445">Deprecated since <font face="sans-serif"> MPI-2.2</font></a> on page <a href="node445.htm#Node445">Deprecated since <font face="sans-serif"> MPI-2.2</font></a>, andAnnex <a href="node522.htm#Node522">Prototype Definitions</a> on page <a href="node522.htm#Node522">Prototype Definitions</a>.<br>  
Changed function pointer typedef names <font face="sans-serif">  MPI_{Comm,File,Win}_errhandler_fn</font> to <font face="sans-serif">  MPI_{Comm,File,Win}_errhandler_function</font>. Deprecated old ``_fn'' names.   
<P> 
 
<br> 
22. Section <a href="node270.htm#Node270">Allowing User Functions at <font face="sans-serif"> MPI</font> Finalization</a> on page <a href="node270.htm#Node270">Allowing User Functions at <font face="sans-serif"> MPI</font> Finalization</a>.<br>  
Attribute deletion callbacks on <font face="sans-serif"> MPI_COMM_SELF</font> are now called in LIFO order. Implementors must now also register all implementation-internal attribute deletion callbacks on <font face="sans-serif"> MPI_COMM_SELF</font> before returning from <font face="sans-serif"> MPI_INIT</font>/<font face="sans-serif"> MPI_INIT_THREAD</font>.  
<P> 
 
<br> 
23. Section <a href="node320.htm#Node320">Accumulate Functions</a> on page <a href="node320.htm#Node320">Accumulate Functions</a>.<br>  
The restriction added in <font face="sans-serif"> MPI</font> 2.1 that the operation <font face="sans-serif"> MPI_REPLACE</font> in <font face="sans-serif"> MPI_ACCUMULATE</font> can be used only with predefined datatypes has been removed. <font face="sans-serif"> MPI_REPLACE</font> can now be used even with derived datatypes, as it was in <font face="sans-serif"> MPI</font> 2.0. Also, a clarification has been made that <font face="sans-serif"> MPI_REPLACE</font> can be used only in <font face="sans-serif"> MPI_ACCUMULATE</font>, not in collective operations that do reductions, such as <font face="sans-serif"> MPI_REDUCE</font> and others.  
<P> 
 
<br> 
24. Section <a href="node345.htm#Node345">Generalized Requests</a> on page <a href="node345.htm#Node345">Generalized Requests</a>.<br>  
Add ``<tt>*</tt>'' to the <font face="sans-serif"> query_fn</font>, <font face="sans-serif"> free_fn</font>, and <font face="sans-serif"> cancel_fn</font> arguments to the C++ binding for <font face="sans-serif"> MPI::Grequest::Start()</font> for consistency with the rest of <font face="sans-serif"> MPI</font> functions that take function pointer arguments.   
<P> 
 
<br> 
25. Section <a href="node377.htm#Node377">External Data Representation: <font face="sans-serif"> </font><tt>"</tt>external32<tt>"</tt></font></a> on page <a href="node377.htm#Node377">External Data Representation: <font face="sans-serif"> </font><tt>"</tt>external32<tt>"</tt></font></a>, andTable <a href="node377.htm#Table13">13</a> on page <a href="node377.htm#Table13">13</a>.<br>  
<font face="sans-serif">  MPI_(U)INT{8,16,32,64}_T</font>, <font face="sans-serif"> MPI_AINT</font>, <font face="sans-serif"> MPI_OFFSET</font>, <font face="sans-serif"> MPI_C_COMPLEX</font>, <font face="sans-serif"> MPI_C_FLOAT_COMPLEX</font>, <font face="sans-serif"> MPI_C_DOUBLE_COMPLEX</font>,<br><font face="sans-serif"> MPI_C_LONG_DOUBLE_COMPLEX</font>, and <font face="sans-serif"> MPI_C_BOOL</font> are added as predefined datatypes in the  
<font face="sans-serif"> </font><tt>"</tt>external32<tt>"</tt></font> representation.  
<P> 
 
<br> 
26. Section <a href="node514.htm#Node514">Attributes</a> on page <a href="node514.htm#Node514">Attributes</a>.<br>  
The description was modified that it only describes how an <font face="sans-serif"> MPI</font> implementation behaves, but not how <font face="sans-serif"> MPI</font> stores attributes internally. The erroneous <font face="sans-serif"> MPI-2.1</font> Example 16.17 was replaced with three new examples <a href="node514.htm#Node514">Attributes</a>, <a href="node514.htm#Node514">Attributes</a>, and <a href="node514.htm#Node514">Attributes</a> on pages <a href="node514.htm#Node514">Attributes</a>--<a href="node514.htm#Node514">Attributes</a> explicitly detailing cross-language attribute behavior. Implementations that matched the behavior of the old example will need to be updated.    
<P> 
 
<br> 
27. Annex <a href="node520.htm#Node520">Defined Constants</a> on page <a href="node520.htm#Node520">Defined Constants</a>.<br>  
Removed type <font face="sans-serif">  MPI::Fint</font> (compare <font face="sans-serif"> MPI_Fint</font> in   
Section <a href="node521.htm#Node521">Types</a> on page <a href="node521.htm#Node521">Types</a>).  
 
<br> 
28. Annex <a href="node520.htm#Node520">Defined Constants</a> on page <a href="node520.htm#Node520">Defined Constants</a>.Table <b> Named Predefined Datatypes</b>.<br>  
Added <font face="sans-serif">  MPI_(U)INT{8,16,32,64}_T</font>, <font face="sans-serif"> MPI_AINT</font>, <font face="sans-serif"> MPI_OFFSET</font>, <font face="sans-serif"> MPI_C_BOOL</font>, <font face="sans-serif"> MPI_C_FLOAT_COMPLEX</font>, <font face="sans-serif"> MPI_C_COMPLEX</font>, <font face="sans-serif"> MPI_C_DOUBLE_COMPLEX</font>, and <font face="sans-serif"> MPI_C_LONG_DOUBLE_COMPLEX</font> are added as predefined datatypes.  
<P> 
</ol> 

<P>
<hr>
<a href="node597.htm#Node597"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node585.htm#Node585"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node599.htm#Node599"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node585.htm#Node585"> Change-Log</a>
<b>Next: </b><a href="node599.htm#Node599"> Changes from Version 2.0 to Version 2.1</a>
<b>Previous: </b><a href="node597.htm#Node597"> Changes in <font face="sans-serif"> MPI-3.0</font></a>
<p>
<HR>
Return to <A HREF="node601.htm">MPI-4.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-4.1 of November 2, 2023<BR>
HTML Generated on November 19, 2023
</FONT>
</body>
</html>
